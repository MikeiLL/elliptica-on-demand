/*! elliptica-on-demand 2020-08-22 */

jQuery(document).ready(function(i){var l=i("#elliptica_od_videos").isotope({itemSelector:".isotope_video_item",percentPosition:!0,masonry:{columnWidth:".on_demand_video_grid-sizer"}}),n={};i(".filters").on("click",".button",function(a){var t=i(a.currentTarget),o=t.parents(".button-group").attr("data-filter-group");n[o]=t.attr("data-filter");var e=function(a){var t="";for(var o in a)t+=a[o];return t}(n);console.log(e),l.isotope({filter:e})}),i(".button-group").each(function(a,t){var o=i(t);o.on("click","button",function(a){o.find(".is-checked").removeClass("is-checked"),i(a.currentTarget).addClass("is-checked")})}),i(".info-popup").modaal(),i(".mcd_playlist__show-more > a").on("click",function(){var a=i(this),t=a.parent().prev(".modal-class-details__listwrap"),o=a.text().toUpperCase();"SHOW MORE"===o?(o="Show less",t.removeClass("mcd__playlist_hideContent",400),t.addClass("mcd__playlist_showContent",400)):(o="Show more",t.addClass("mcd__playlist_hideContent",400),t.removeClass("mcd__playlist_showContent",400)),a.text(o)})}),function(_){var i={init:function(a,t){var o,e=this;e.dom=_("body"),e.$elem=_(t),e.options=_.extend({},_.fn.modaal.options,e.$elem.data(),a),e.xhr=null,e.scope={is_open:!1,id:"modaal_"+(new Date).getTime()+Math.random().toString(16).substring(2),source:e.options.content_source?e.options.content_source:e.$elem.attr("href")},e.$elem.attr("data-modaal-scope",e.scope.id),e.private_options={active_class:"is_active"},e.lastFocus=null,e.options.is_locked||"confirm"==e.options.type||e.options.hide_close?e.scope.close_btn="":e.scope.close_btn='<button type="button" class="modaal-close" id="modaal-close" aria-label="'+e.options.close_aria_label+'"><span>'+e.options.close_text+"</span></button>","none"===e.options.animation&&(e.options.animation_speed=0,e.options.after_callback_delay=0),_(t).on("click.Modaal",function(a){a.preventDefault(),e.create_modaal(e,a)}),o=!0===e.options.outer_controls?"outer":"inner",e.scope.prev_btn='<button type="button" class="modaal-gallery-control modaal-gallery-prev modaal-gallery-prev-'+o+'" id="modaal-gallery-prev" aria-label="Previous image (use left arrow to change)"><span>Previous Image</span></button>',e.scope.next_btn='<button type="button" class="modaal-gallery-control modaal-gallery-next modaal-gallery-next-'+o+'" id="modaal-gallery-next" aria-label="Next image (use right arrow to change)"><span>Next Image</span></button>',!0===e.options.start_open&&e.create_modaal(e)},create_modaal:function(a,t){var o;if((a=this).lastFocus=a.$elem,!1!==a.options.should_open&&("function"!=typeof a.options.should_open||!1!==a.options.should_open())){switch(a.options.before_open.call(a,t),a.options.type){case"inline":a.create_basic();break;case"ajax":o=a.options.source(a.$elem,a.scope.source),a.fetch_ajax(o);break;case"confirm":a.options.is_locked=!0,a.create_confirm();break;case"image":a.create_image();break;case"iframe":o=a.options.source(a.$elem,a.scope.source),a.create_iframe(o);break;case"video":a.create_video(a.scope.source);break;case"instagram":a.create_instagram()}a.watch_events()}},watch_events:function(){var e=this;e.dom.off("click.Modaal keyup.Modaal keydown.Modaal"),e.dom.on("keydown.Modaal",function(a){var t=a.keyCode,o=a.target;9==t&&e.scope.is_open&&(_.contains(document.getElementById(e.scope.id),o)||_("#"+e.scope.id).find('*[tabindex="0"]').focus())}),e.dom.on("keyup.Modaal",function(a){var t=a.keyCode,o=a.target;return a.shiftKey&&9==a.keyCode&&e.scope.is_open&&(_.contains(document.getElementById(e.scope.id),o)||_("#"+e.scope.id).find(".modaal-close").focus()),!e.options.is_locked&&27==t&&e.scope.is_open?!_(document.activeElement).is("input:not(:checkbox):not(:radio)")&&void e.modaal_close():"image"==e.options.type?(37==t&&e.scope.is_open&&!_("#"+e.scope.id+" .modaal-gallery-prev").hasClass("is_hidden")&&e.gallery_update("prev"),void(39==t&&e.scope.is_open&&!_("#"+e.scope.id+" .modaal-gallery-next").hasClass("is_hidden")&&e.gallery_update("next"))):void 0}),e.dom.on("click.Modaal",function(a){var t=_(a.target);if(e.options.is_locked||!(e.options.overlay_close&&t.is(".modaal-inner-wrapper")||t.is(".modaal-close")||t.closest(".modaal-close").length)){if(t.is(".modaal-confirm-btn"))return t.is(".modaal-ok")&&e.options.confirm_callback.call(e,e.lastFocus),t.is(".modaal-cancel")&&e.options.confirm_cancel_callback.call(e,e.lastFocus),void e.modaal_close();if(t.is(".modaal-gallery-control")){if(t.hasClass("is_hidden"))return;return t.is(".modaal-gallery-prev")&&e.gallery_update("prev"),void(t.is(".modaal-gallery-next")&&e.gallery_update("next"))}}else e.modaal_close()})},build_modal:function(a){var t=this,o="";"instagram"==t.options.type&&(o=" modaal-instagram");var e,i="video"==t.options.type?"modaal-video-wrap":"modaal-content";switch(t.options.animation){case"fade":e=" modaal-start_fade";break;case"slide-down":e=" modaal-start_slidedown";break;default:e=" modaal-start_none"}var l="";t.options.fullscreen&&(l=" modaal-fullscreen"),""===t.options.custom_class&&void 0===t.options.custom_class||(t.options.custom_class=" "+t.options.custom_class);var n="";t.options.width&&t.options.height&&"number"==typeof t.options.width&&"number"==typeof t.options.height?n=' style="max-width:'+t.options.width+"px;height:"+t.options.height+'px;overflow:auto;"':t.options.width&&"number"==typeof t.options.width?n=' style="max-width:'+t.options.width+'px;"':t.options.height&&"number"==typeof t.options.height&&(n=' style="height:'+t.options.height+'px;overflow:auto;"'),"image"!=t.options.type&&"video"!=t.options.type&&"instagram"!=t.options.type&&!t.options.fullscreen||(n="");var s="";t.is_touch()&&(s=' style="cursor:pointer;"');var d='<div class="modaal-wrapper modaal-'+t.options.type+e+o+l+t.options.custom_class+'" id="'+t.scope.id+'"><div class="modaal-outer-wrapper"><div class="modaal-inner-wrapper"'+s+">";"video"!=t.options.type&&(d+='<div class="modaal-container"'+n+">"),d+='<div class="'+i+' modaal-focus" aria-hidden="false" aria-label="'+t.options.accessible_title+" - "+t.options.close_aria_label+'" role="dialog">',"inline"==t.options.type?d+='<div class="modaal-content-container" role="document"></div>':d+=a,d+="</div>"+t.scope.close_btn,"video"!=t.options.type&&(d+="</div>"),d+="</div>","image"==t.options.type&&!0===t.options.outer_controls&&(d+=t.scope.prev_btn+t.scope.next_btn),d+="</div></div>",_("#"+t.scope.id+"_overlay").length<1&&t.dom.append(d),"inline"==t.options.type&&a.appendTo("#"+t.scope.id+" .modaal-content-container"),t.modaal_overlay("show")},create_basic:function(){var a=_(this.scope.source),t="";a.length?(t=a.contents().detach(),a.empty()):t="Content could not be loaded. Please check the source and try again.",this.build_modal(t)},create_instagram:function(){var a,o=this,t=o.options.instagram_id,e="",i="Instagram photo couldn't be loaded, please check the embed code and try again.";return o.build_modal('<div class="modaal-content-container'+(""!=o.options.loading_class?" "+o.options.loading_class:"")+'">'+o.options.loading_content+"</div>"),""!=t&&null!=t?(a="https://api.instagram.com/oembed?url=http://instagr.am/p/"+t+"/",_.ajax({url:a,dataType:"jsonp",cache:!1,success:function(a){o.dom.append('<div id="temp-ig" style="width:0;height:0;overflow:hidden;">'+a.html+"</div>"),o.dom.attr("data-igloaded")?window.instgrm.Embeds.process():o.dom.attr("data-igloaded","true");var t="#"+o.scope.id+" .modaal-content-container";0<_(t).length&&setTimeout(function(){_("#temp-ig").contents().clone().appendTo(t),_("#temp-ig").remove()},1e3)},error:function(){e=i;var a=_("#"+o.scope.id+" .modaal-content-container");0<a.length&&(a.removeClass(o.options.loading_class).addClass(o.options.ajax_error_class),a.html(e))}})):e=i,!1},fetch_ajax:function(a){var o=this;null==o.options.accessible_title&&(o.options.accessible_title="Dialog Window"),null!==o.xhr&&(o.xhr.abort(),o.xhr=null),o.build_modal('<div class="modaal-content-container'+(""!=o.options.loading_class?" "+o.options.loading_class:"")+'">'+o.options.loading_content+"</div>"),o.xhr=_.ajax(a,{success:function(a){var t=_("#"+o.scope.id).find(".modaal-content-container");0<t.length&&(t.removeClass(o.options.loading_class),t.html(a),o.options.ajax_success.call(o,t))},error:function(a){var t;"abort"==a.statusText||0<(t=_("#"+o.scope.id+" .modaal-content-container")).length&&(t.removeClass(o.options.loading_class).addClass(o.options.ajax_error_class),t.html("Content could not be loaded. Please check the source and try again."))}})},create_confirm:function(){var a=this,t='<div class="modaal-content-container"><h1 id="modaal-title">'+a.options.confirm_title+'</h1><div class="modaal-confirm-content">'+a.options.confirm_content+'</div><div class="modaal-confirm-wrap"><button type="button" class="modaal-confirm-btn modaal-ok" aria-label="Confirm">'+a.options.confirm_button_text+'</button><button type="button" class="modaal-confirm-btn modaal-cancel" aria-label="Cancel">'+a.options.confirm_cancel_button_text+"</button></div></div></div>";a.build_modal(t)},create_image:function(){var a,t=this,o="";if(t.$elem.is("[data-group]")||t.$elem.is("[rel]")){var e=t.$elem.is("[data-group]"),i=e?t.$elem.attr("data-group"):t.$elem.attr("rel"),l=_(e?'[data-group="'+i+'"]':'[rel="'+i+'"]');l.removeAttr("data-gallery-active","is_active"),t.$elem.attr("data-gallery-active","is_active"),a=l.length-1;var c=[],o='<div class="modaal-gallery-item-wrap">';l.each(function(a,t){var o="",e="",i="",l=!1,n=!1,s=t.getAttribute("data-modaal-desc"),d=t.getAttribute("data-gallery-active");_(t).attr("data-modaal-content-source")?o=_(t).attr("data-modaal-content-source"):_(t).attr("href")?o=_(t).attr("href"):_(t).attr("src")?o=_(t).attr("src"):(o="trigger requires href or data-modaal-content-source attribute",n=!0),i=""!=s&&null!=s?'<div class="modaal-gallery-label"><span class="modaal-accessible-hide">Image '+(a+1)+" - </span>"+(e=s).replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</div>":'<div class="modaal-gallery-label"><span class="modaal-accessible-hide">Image '+(a+1)+"</span></div>",d&&(l=!0);var r={url:o,alt:e,rawdesc:s,desc:i,active:l,src_error:n};c.push(r)});for(var n=0;n<c.length;n++){var s="",d=c[n].rawdesc?"Image: "+c[n].rawdesc:"Image "+n+" no description";c[n].active&&(s=" "+t.private_options.active_class),o+='<div class="modaal-gallery-item gallery-item-'+n+s+'" aria-label="'+d+'">'+(c[n].src_error?c[n].url:'<img src="'+c[n].url+'" alt=" " style="width:100%">')+c[n].desc+"</div>"}o+="</div>",1!=t.options.outer_controls&&(o+=t.scope.prev_btn+t.scope.next_btn)}else{var r,m=!1;t.$elem.attr("data-modaal-content-source")?r=t.$elem.attr("data-modaal-content-source"):t.$elem.attr("href")?r=t.$elem.attr("href"):t.$elem.attr("src")?r=t.$elem.attr("src"):(r="trigger requires href or data-modaal-content-source attribute",m=!0);var p="",d="";t.$elem.attr("data-modaal-desc")?(d=t.$elem.attr("data-modaal-desc"),p='<div class="modaal-gallery-label"><span class="modaal-accessible-hide">Image - </span>'+t.$elem.attr("data-modaal-desc").replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</div>"):d="Image with no description",o='<div class="modaal-gallery-item is_active" aria-label="'+d+'">'+(m?r:'<img src="'+r+'" alt=" " style="width:100%">')+p+"</div>"}t.build_modal(o),_(".modaal-gallery-item.is_active").is(".gallery-item-0")&&_(".modaal-gallery-prev").hide(),_(".modaal-gallery-item.is_active").is(".gallery-item-"+a)&&_(".modaal-gallery-next").hide()},gallery_update:function(a){var i=this,l=_("#"+i.scope.id),n=l.find(".modaal-gallery-item").length-1;if(0==n)return!1;var s=l.find(".modaal-gallery-prev"),d=l.find(".modaal-gallery-next"),r=0,c=0,m=l.find(".modaal-gallery-item."+i.private_options.active_class),p="next"==a?m.next(".modaal-gallery-item"):m.prev(".modaal-gallery-item");return i.options.before_image_change.call(i,m,p),("prev"!=a||!l.find(".gallery-item-0").hasClass("is_active"))&&(("next"!=a||!l.find(".gallery-item-"+n).hasClass("is_active"))&&void m.stop().animate({opacity:0},250,function(){p.addClass("is_next").css({position:"absolute",display:"block",opacity:0});var a=_(document).width(),t=1140<a?280:50;r=l.find(".modaal-gallery-item.is_next").width(),c=l.find(".modaal-gallery-item.is_next").height();var o=l.find(".modaal-gallery-item.is_next img").prop("naturalWidth"),e=l.find(".modaal-gallery-item.is_next img").prop("naturalHeight");c=a-t<o?(r=a-t,l.find(".modaal-gallery-item.is_next").css({width:r}),l.find(".modaal-gallery-item.is_next img").css({width:r}),l.find(".modaal-gallery-item.is_next").find("img").height()):(r=o,e),l.find(".modaal-gallery-item-wrap").stop().animate({width:r,height:c},250,function(){m.removeClass(i.private_options.active_class+" "+i.options.gallery_active_class).removeAttr("style"),m.find("img").removeAttr("style"),p.addClass(i.private_options.active_class+" "+i.options.gallery_active_class).removeClass("is_next").css("position",""),p.stop().animate({opacity:1},250,function(){_(this).removeAttr("style").css({width:"100%"}),_(this).find("img").css("width","100%"),l.find(".modaal-gallery-item-wrap").removeAttr("style"),i.options.after_image_change.call(i,p)}),l.find(".modaal-gallery-item").removeAttr("tabindex"),l.find(".modaal-gallery-item."+i.private_options.active_class).attr("tabindex","0").focus(),l.find(".modaal-gallery-item."+i.private_options.active_class).is(".gallery-item-0")?s.stop().animate({opacity:0},150,function(){_(this).hide()}):s.stop().css({display:"block",opacity:s.css("opacity")}).animate({opacity:1},150),l.find(".modaal-gallery-item."+i.private_options.active_class).is(".gallery-item-"+n)?d.stop().animate({opacity:0},150,function(){_(this).hide()}):d.stop().css({display:"block",opacity:s.css("opacity")}).animate({opacity:1},150)})}))},create_video:function(a){var t='<iframe src="'+a+'" class="modaal-video-frame" frameborder="0" allowfullscreen></iframe>';this.build_modal('<div class="modaal-video-container">'+t+"</div>")},create_iframe:function(a){var t=this,o=null!==t.options.width||void 0!==t.options.width||null!==t.options.height||void 0!==t.options.height?'<iframe src="'+a+'" class="modaal-iframe-elem" frameborder="0" allowfullscreen></iframe>':'<div class="modaal-content-container">Please specify a width and height for your iframe</div>';t.build_modal(o)},modaal_open:function(){var a=this,t=_("#"+a.scope.id),o=a.options.animation;"none"===o&&(t.removeClass("modaal-start_none"),a.options.after_open.call(a,t)),"fade"===o&&t.removeClass("modaal-start_fade"),"slide-down"===o&&t.removeClass("modaal-start_slide_down");_(".modaal-wrapper *[tabindex=0]").removeAttr("tabindex"),("image"==a.options.type?_("#"+a.scope.id).find(".modaal-gallery-item."+a.private_options.active_class):t.find(".modaal-iframe-elem").length?t.find(".modaal-iframe-elem"):t.find(".modaal-video-wrap").length?t.find(".modaal-video-wrap"):t.find(".modaal-focus")).attr("tabindex","0").focus(),"none"!==o&&setTimeout(function(){a.options.after_open.call(a,t)},a.options.after_callback_delay)},modaal_close:function(){var a=this,t=_("#"+a.scope.id);a.options.before_close.call(a,t),null!==a.xhr&&(a.xhr.abort(),a.xhr=null),"none"===a.options.animation&&t.addClass("modaal-start_none"),"fade"===a.options.animation&&t.addClass("modaal-start_fade"),"slide-down"===a.options.animation&&t.addClass("modaal-start_slide_down"),setTimeout(function(){"inline"==a.options.type&&_("#"+a.scope.id+" .modaal-content-container").contents().detach().appendTo(a.scope.source),t.remove(),a.options.after_close.call(a),a.scope.is_open=!1},a.options.after_callback_delay),a.modaal_overlay("hide"),null!=a.lastFocus&&a.lastFocus.focus()},modaal_overlay:function(a){var t=this;"show"==a?(t.scope.is_open=!0,t.options.background_scroll||t.dom.addClass("modaal-noscroll"),_("#"+t.scope.id+"_overlay").length<1&&t.dom.append('<div class="modaal-overlay" id="'+t.scope.id+'_overlay"></div>'),_("#"+t.scope.id+"_overlay").css("background",t.options.background).stop().animate({opacity:t.options.overlay_opacity},t.options.animation_speed,function(){t.modaal_open()})):"hide"==a&&_("#"+t.scope.id+"_overlay").stop().animate({opacity:0},t.options.animation_speed,function(){_(this).remove(),t.dom.removeClass("modaal-noscroll")})},is_touch:function(){return"ontouchstart"in window||navigator.maxTouchPoints}},l=[];function e(a){var t={},o=!1;a.attr("data-modaal-type")&&(o=!0,t.type=a.attr("data-modaal-type")),a.attr("data-modaal-content-source")&&(o=!0,t.content_source=a.attr("data-modaal-content-source")),a.attr("data-modaal-animation")&&(o=!0,t.animation=a.attr("data-modaal-animation")),a.attr("data-modaal-animation-speed")&&(o=!0,t.animation_speed=a.attr("data-modaal-animation-speed")),a.attr("data-modaal-after-callback-delay")&&(o=!0,t.after_callback_delay=a.attr("data-modaal-after-callback-delay")),a.attr("data-modaal-is-locked")&&(o=!0,t.is_locked="true"===a.attr("data-modaal-is-locked")),a.attr("data-modaal-hide-close")&&(o=!0,t.hide_close="true"===a.attr("data-modaal-hide-close")),a.attr("data-modaal-background")&&(o=!0,t.background=a.attr("data-modaal-background")),a.attr("data-modaal-overlay-opacity")&&(o=!0,t.overlay_opacity=a.attr("data-modaal-overlay-opacity")),a.attr("data-modaal-overlay-close")&&(o=!0,t.overlay_close="false"!==a.attr("data-modaal-overlay-close")),a.attr("data-modaal-accessible-title")&&(o=!0,t.accessible_title=a.attr("data-modaal-accessible-title")),a.attr("data-modaal-start-open")&&(o=!0,t.start_open="true"===a.attr("data-modaal-start-open")),a.attr("data-modaal-fullscreen")&&(o=!0,t.fullscreen="true"===a.attr("data-modaal-fullscreen")),a.attr("data-modaal-custom-class")&&(o=!0,t.custom_class=a.attr("data-modaal-custom-class")),a.attr("data-modaal-close-text")&&(o=!0,t.close_text=a.attr("data-modaal-close-text")),a.attr("data-modaal-close-aria-label")&&(o=!0,t.close_aria_label=a.attr("data-modaal-close-aria-label")),a.attr("data-modaal-background-scroll")&&(o=!0,t.background_scroll="true"===a.attr("data-modaal-background-scroll")),a.attr("data-modaal-width")&&(o=!0,t.width=parseInt(a.attr("data-modaal-width"))),a.attr("data-modaal-height")&&(o=!0,t.height=parseInt(a.attr("data-modaal-height"))),a.attr("data-modaal-confirm-button-text")&&(o=!0,t.confirm_button_text=a.attr("data-modaal-confirm-button-text")),a.attr("data-modaal-confirm-cancel-button-text")&&(o=!0,t.confirm_cancel_button_text=a.attr("data-modaal-confirm-cancel-button-text")),a.attr("data-modaal-confirm-title")&&(o=!0,t.confirm_title=a.attr("data-modaal-confirm-title")),a.attr("data-modaal-confirm-content")&&(o=!0,t.confirm_content=a.attr("data-modaal-confirm-content")),a.attr("data-modaal-gallery-active-class")&&(o=!0,t.gallery_active_class=a.attr("data-modaal-gallery-active-class")),a.attr("data-modaal-loading-content")&&(o=!0,t.loading_content=a.attr("data-modaal-loading-content")),a.attr("data-modaal-loading-class")&&(o=!0,t.loading_class=a.attr("data-modaal-loading-class")),a.attr("data-modaal-ajax-error-class")&&(o=!0,t.ajax_error_class=a.attr("data-modaal-ajax-error-class")),a.attr("data-modaal-instagram-id")&&(o=!0,t.instagram_id=a.attr("data-modaal-instagram-id")),o&&a.modaal(t)}_.fn.modaal=function(e){return this.each(function(a){var t=_(this).data("modaal");if(t){if("string"==typeof e)switch(e){case"open":t.create_modaal(t);break;case"close":t.modaal_close()}}else{var o=Object.create(i);o.init(e,this),_.data(this,"modaal",o),l.push({element:_(this).attr("class"),options:e})}})},_.fn.modaal.options={type:"inline",content_source:null,animation:"fade",animation_speed:300,after_callback_delay:350,is_locked:!1,hide_close:!1,background:"#000",overlay_opacity:"0.8",overlay_close:!0,accessible_title:"Dialog Window",start_open:!1,fullscreen:!1,custom_class:"",background_scroll:!1,should_open:!0,close_text:"Close",close_aria_label:"Close (Press escape to close)",width:null,height:null,before_open:function(){},after_open:function(){},before_close:function(){},after_close:function(){},source:function(a,t){return t},confirm_button_text:"Confirm",confirm_cancel_button_text:"Cancel",confirm_title:"Confirm Title",confirm_content:"<p>This is the default confirm dialog content. Replace me through the options</p>",confirm_callback:function(){},confirm_cancel_callback:function(){},gallery_active_class:"gallery_active_item",outer_controls:!1,before_image_change:function(a,t){},after_image_change:function(a){},loading_content:'<div class="modaal-loading-spinner"><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div></div>',loading_class:"is_loading",ajax_error_class:"modaal-error",ajax_success:function(){},instagram_id:null},_(function(){var a=_(".modaal");a.length&&a.each(function(){e(_(this))});var t=new MutationObserver(function(a){a.forEach(function(a){a.addedNodes&&0<a.addedNodes.length&&[].some.call(a.addedNodes,function(a){var t=_(a);(t.is("a")||t.is("button"))&&(t.hasClass("modaal")?e(t):l.forEach(function(a){if(a.element==t.attr("class"))return _(t).modaal(a.options),!1}))})})}),o={subtree:!0,attributes:!0,childList:!0,characterData:!0};setTimeout(function(){t.observe(document.body,o)},500)})}(jQuery,(window,document));